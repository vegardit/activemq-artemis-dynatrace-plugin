{
  "version": "2.1",
  "name": "custom.jmx.vegardit.ActiveMQ_Artemis_Queues",
  "type": "JMX",
  "technologies": [ "ACTIVE_MQ" ],
  "entity": "PROCESS_GROUP_INSTANCE",
  "metricGroup": "activemq.artemis.queues",

  "configUI": {
    "displayName": "ActiveMQ Artemis Queues"
  },


  "ui": {
    "charts": [
      {"group":"ActiveMQ Artemis Queues", "title":"Consumer Count",                     "series": [{"key":"ConsumerCountByQueue",            "aggregation":"max", "displayname":"Consumer Count"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Message Count",                      "series": [{"key":"MessageCountByQueue",             "aggregation":"max", "displayname":"Message Count"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Messages Added",                     "series": [{"key":"MessagesAddedByQueue",            "aggregation":"max", "displayname":"Messages Added"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Messages Added Rate (msg/s)",        "series": [{"key":"MessagesAddedRateByQueue",        "aggregation":"max", "displayname":"Messages Added Rate"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Messages Acknowledged",              "series": [{"key":"MessagesAcknowledgedByQueue",     "aggregation":"max", "displayname":"Messages Acknowledged"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Messages Acknowledged Rate (msg/s)", "series": [{"key":"MessagesAcknowledgedRateByQueue", "aggregation":"max", "displayname":"Messages Acknowledged Rate"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Messages Expired",                   "series": [{"key":"MessagesExpiredByQueue",          "aggregation":"max", "displayname":"Message Expired"}]},
      {"group":"ActiveMQ Artemis Queues", "title":"Messages Killed",                    "series": [{"key":"MessagesKilledByQueue",           "aggregation":"max", "displayname":"Message Killed"}]}
    ]
  },


  "metrics": [
    {
      "timeseries": {
        "key": "ConsumerCountByQueue",
        "unit": "Count",
        "displayname": "Consumer Count by Queue",
        "dimensions": [ "rx_pid" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "ConsumerCount",
        "allowAdditionalKeys": true,
        "calculateDelta": false,
        "calculateRate": false,
        "aggregation": "AVG",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessageCountByQueue",
        "displayname" : "Message Count by Queue",
        "unit": "Count",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessageCount",
        "allowAdditionalKeys": true,
        "calculateDelta": false,
        "calculateRate": false,
        "aggregation": "AVG",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessagesAddedByQueue",
        "unit": "Count",
        "displayname": "Messages Added by Queue",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessagesAdded",
        "allowAdditionalKeys": true,
        "calculateDelta": true,
        "calculateRate": false,
        "aggregation": "MAX",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessagesAddedRateByQueue",
        "unit": "Count",
        "displayname": "Messages Added Rate by Queue",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessagesAdded",
        "allowAdditionalKeys": true,
        "calculateDelta": true,
        "calculateRate": true,
        "aggregation": "MAX",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessagesAcknowledgedByQueue",
        "unit": "Count",
        "displayname": "Messages Acknowledged by Queue",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessagesAcknowledged",
        "allowAdditionalKeys": true,
        "calculateDelta": true,
        "calculateRate": false,
        "aggregation": "MAX",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessagesAcknowledgedRateByQueue",
        "unit": "Count",
        "displayname": "Messages Acknowledged Rate by Queue",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessagesAcknowledged",
        "allowAdditionalKeys": true,
        "calculateDelta": true,
        "calculateRate": true,
        "aggregation": "MAX",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessagesExpiredByQueue",
        "displayname" : "Messages Expired by Queue",
        "unit": "Count",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessagesExpired",
        "allowAdditionalKeys": true,
        "calculateDelta": true,
        "calculateRate": false,
        "aggregation": "MAX",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    },
    {
      "timeseries": {
        "key": "MessagesKilledByQueue",
        "displayname" : "Messages Killed by Queue",
        "unit": "Count",
        "dimensions": [ "rx_pid", "queue" ]
      },
      "source": {
        "domain": "org.apache.activemq.artemis",
        "keyProperties": {
          "broker": "*",
          "component": "addresses",
          "address": "*",
          "subcomponent": "queues",
          "routing-type": "\"anycast\"",
          "queue": "*"
        },
        "attribute": "MessagesKilled",
        "allowAdditionalKeys": true,
        "calculateDelta": true,
        "calculateRate": false,
        "aggregation": "MAX",
        "splitting": {
          "name": "queue",
          "type": "keyProperty",
          "keyProperty": "queue"
        }
      }
    }
  ]
}